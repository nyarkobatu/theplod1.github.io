<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>LS Gov | Görevlendirme & Vardiya Formu</title>
    <link rel="icon" href="https://i.ibb.co/Mc58JMV/Logo.png" type="image/png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="moment.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css">
    <style id="initial-theme">
        /* Sistem/browser tema bilgisine göre initial stil */
        :root {
            --bg-color: #ffffff;
            --text-color: #212529;
            /* Diğer light mode değişkenleri */
        }
        
        :root[data-theme="dark"] {
            --bg-color: #121212;
            --text-color: #f8f9fa;
            /* Diğer dark mode değişkenleri */
        }
    </style>
    <script>
        // Sayfa yüklenmeden önce tema kontrolü
        const savedTheme = localStorage.getItem('theme') || 
                         (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        document.documentElement.setAttribute('data-theme', savedTheme);
    </script>
</head>

<body>
    <div class="dark-mode-toggle">
        <button id="darkModeToggle" class="btn btn-sm btn-outline-secondary">
            <i class="bi bi-moon-fill"></i> Dark Mode
        </button>
    </div>
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <center><h5 class="card-title">LSGov | Görevlendirme & Vardiya Formu</h5></center>
                        <a href="/"> <center><img src="https://i.ibb.co/Mc58JMV/Logo.png" width="150px"></center> </a>
                        <div class="form-group">
                            <label for="datetime">Görev Tarihi</label>
                            <input type="text" id="datetime" style="text-transform: uppercase;" class="form-control" placeholder="GG/AAA/YYYY">
                        </div>
                        <div class="form-group">
                            <label for="streetname">Sokak Adı</label>
                            <input type="text" id="streetname" class="form-control" placeholder="Street Name">
                        </div>
                        <div class="form-group">
                            <label for="positionT">Kıdem Türü</label>
                            <select class="form-control" id="positionT">
                                <option value="" selected disabled>Lütfen Seçin</option>
                                <!--<option value="Inspector">Inspector</option>-->
                                <option value="Supervisor">Supervisor</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="name">İsim Soyisim</label>
                            <input type="text" id="name" class="form-control" placeholder="İsim Soyisim">
                        </div>
                        <div class="form-group">
                            <label for="positionname">Rütbe</label>
                            <input type="text" id="positionname" class="form-control" placeholder="Güncel Rütbe">
                        </div>
                        <div class="form-group">
                            <label for="narrative">Görev Açıklaması</label>
                            <textarea class="form-control" id="narrative"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="locationT">Görev Konumu</label>
                            <input type="text" id="locationT" class="form-control" placeholder="Görevin Konumu">
                        </div>
                        <div class="form-group">
                            <label for="images">Fotoğraflar (Virgül ile ayırın)</label>
                            <textarea class="form-control" id="images"></textarea>
                        </div>
                        
                        
                    </div>
                </div>
                <div class="card mt-2">
                    <div class="card-body">
                        <h5 class="card-title">İşe Yarayacak Linkler</h5>
                        <ul class="list-style">
                            <li><a target="_blank" href="https://gov-tr.gta.world/viewforum.php?f=872">Görevlendirme & Vardiya</a></li>
                            <li><a target="_blank" href="https://imgur.com">Imgur</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Rapor Başlığı</h5>
                        <p id="bbtitle"><span id="inspsup">Supervisor</span> - <span id="streetn">Sokak Adı</span> - <span id="datetext">GG/AAA/YYYY</span></p>
                        <h5 class="card-title">BBCode'ı Kopyala</h5>
                        <p id="bbcode">
                            [divbox=transparent][justify]<br />
                            [table][tr][td][color=transparent]-------[/color][img]https://i.imgur.com/jygAIAD.png[/img][/td][td][hr][/hr][size=160][b]DEPARTMENT OF PUBLIC WORKS[/b][/size][color=transparent]------------------------------------------[/color]<br />
                            [color=#535a6c][b][size=140]DENETİM GÖREVLENDİRME RAPORU[/size][/b][/color][hr][/hr]<br />
                            [color=#535a6c][u][size=70] [right]CITY OF LOS SANTOS<br />
                            DEPARTMENT OF PUBLIC WORKS<br />
                            ELGIN AVENUE, VINEWOOD, LOS SANTOS, SA[/right][/size][/u][/color][/td][/tr][/table]<br />
                            [hr][/hr][center][size=140][b][color=#5597D0]DENETİM GÖREVLENDİRME RAPORU[/color][/b][/size][/center][hr][/hr]<br />
                            [br][/br]<br />
                            [justify]Bu belge, San Andreas'ta devriye gezen ve çevresel tehlikeler, grafiti kaldırma, olay yeri temizleme, su ve kanalizasyon arıtma, güç ve enerji bakımı, çöp imhası, tehlikeli maddelerin yasadışı dökümü vb. ile karşılaşan müfettişler ve süpervizörler için bir görev oluşturma formu olarak hizmet vermektedir.
                            Görevin oluşturulmasının ardından teknisyenler göreve yanıt verir ve gerekli bakım veya hizmeti sağlar. Teknisyen görevini tamamladıktan sonra gözetmenler fiziksel kontroller gerçekleştirecektir. Gözetmenler görevi tamamlandı olarak imzalayacaktır. <br />
                            <br />
                            Belirli görevler, talebin yerine getirilmesinde görev alan teknisyen(ler)e bonus fon ödemesi yapabilir. Bu nedenle, her teknisyenin ödemeyi almasını sağlamak için katılan tüm teknisyenlerin Kamu Hizmeti Raporunda listelenmesi önemlidir. Bonus ödemeleri, Public Works Director'ın takdirine bağlı olarak tüm görev tamamlandığında verilir.<br />
                            [br][/br][/justify]<br />
                            [hr][/hr][center][size=140][b][color=#5597D0]GÖREVLENDİRME DETAYLARI[/color][/b][/size][/center][hr][/hr]<br />
                            [list=none][b]Görevlendiren: [/b] <br />
                            <span id="nameS">İsim Soyisim</span> - <span id="currpos">Güncel Rütbesi</span><br />
                            <br />
                            [b]Görev Bonusu: [/b] <br />
                            Teknisyen başına $2.500<br />
                            <br />
                            [b]Görev Konumu: [/b] <br />
                            <span id="taskloc">Görevin konumu</span><br />
                            <br />
                            [b]Görev Detayları: [/b] <br />
                            <span id="narrativetext"></span><br />

                            [b]Görev Fotoğrafları (eğer mümkünse): [/b] <br />
                            [altspoiler=GÖREV FOTOĞRAFLARI]<br />
                            <span id="imgs">[img]görsel buraya[/img]</span><br />
                            [/altspoiler]<br />
                            <br />
                            [/justify]<br />
                            [hr][/hr][center][size=140][b][color=#5597D0]TEKNİSYEN BİLGİLENDİRMESİ[/color][/b][/size][/center][hr][/hr]<br />
                            Bu iş kısmen veya tamamen tamamlandığında bir KHR doldurulmalıdır. Bu, buna yardımcı olan tüm teknisyenleri içermelidir. Her teknisyen için bir tane doldurmanıza gerek yoktur, sadece katılan tüm teknisyenleri listeleyen bir tane doldurmanız yeterlidir. Lütfen görevi düzenleyen kişiye, oluşturduğunuz rapora erişim bağlantısıyla birlikte göreve bir not ekleyerek görevi tamamladığınızı bildirin.<br />
                            <br />
                            ((PSR'nizi linkleyerek bir cevap göndermek için aşağıdaki BB Kodunu kullanın)).<br />
                            <br />
                            [b][color=#5597D0]TEKNİSYEN CEVABI:[/color][/b]<br />
                            [code]<br />
                            [divbox=transparent][justify]<br />
                            [table][tr][td][color=transparent]-------[/color][img]https://i.imgur.com/jygAIAD.png[/img][/td][td][hr][/hr][size=160][b]DEPARTMENT OF PUBLIC WORKS[/b][/size][color=transparent]------------------------------------------[/color]<br />
                            [color=#535a6c][b][size=140]TEKNİSYEN TAMAMLAMA RAPORU[/size][/b][/color][hr][/hr]<br />
                            [color=#535a6c][u][size=70] [right]CITY OF LOS SANTOS<br />
                            DEPARTMENT OF PUBLIC WORKS<br />
                            ELGIN AVENUE, VINEWOOD, LOS SANTOS, SA[/right][/size][/u][/color][/td][/tr][/table]<br />
                            [hr][/hr][center][size=140][b][color=#5597D0]TEKNİSYEN CEVABI[/color][/b][/size][/center][hr][/hr]<br />
                            Ben [Teknisyen Adı], bu görevin Görevlendirme Raporunda detaylandırılan göreve göre kısmen / tamamen tamamlandığını onaylayabilirim. Yanlış bir tamamlama raporu hazırlamanın prim ödemesi alınmamasına neden olabileceğini biliyorum. <br />
                            <br />
                            [url=KHRLİNKİ]Kamu Hizmeti Rapor Formu[/url]<br />
                            [/code]<br />
                            <br />
                            [hr][/hr][center][size=140][b][color=#5597D0]SUPERVISOR BİLGİLENDİRMESİ[/color][/b][/size][/center][hr][/hr]<br />
                            Teknisyenden bir yanıt alındıktan sonra, görev yerine gitmeli ve işin tatmin edici bir şekilde tamamlandığından emin olmak için çalışmalarını kontrol etmelisiniz. İşin tamamlandığından emin olduktan sonra, lütfen bir süpervizör inceleme formu doldurun. <br />
                            <br />
                            ((Bu raporu inceledikten sonra arşivlemeyin. Director, hiçbirinin atlanmadığından emin olmak için bonus ödeme listesine yerleştirildikten sonra bunu yapacaktır.))<br />
                            <br />
                            [b][color=#5597D0]SUPERVISOR İNCELEMESİ:[/color][/b]<br />
                            [code]<br />
                            [divbox=transparent][justify]<br />
                            [table][tr][td][color=transparent]-------[/color][img]https://i.imgur.com/jygAIAD.png[/img][/td][td][hr][/hr][size=160][b]DEPARTMENT OF PUBLIC WORKS[/b][/size][color=transparent]------------------------------------------[/color]<br />
                            [color=#535a6c][b][size=140]SUPERVISOR İNCELEMESİ[/size][/b][/color][hr][/hr]<br />
                            [color=#535a6c][u][size=70] [right]CITY OF LOS SANTOS<br />
                            DEPARTMENT OF PUBLIC WORKS<br />
                            ELGIN AVENUE, VINEWOOD, LOS SANTOS, SA[/right][/size][/u][/color][/td][/tr][/table]<br />
                            [hr][/hr][center][size=140][b][color=#5597D0]SUPERVISOR İNCELEMESİ[/color][/b][/size][/center][hr][/hr]<br />
                            Ben [Süpervizör Adı], [Pozisyon Adı], görevin bulunduğu sahaya fiziksel olarak katıldığımı teyit edebilirim. Teknisyen(ler) tarafından tamamlanan işi kontrol ettim ve tatmin edici bir durumda tamamlandığını onaylamaktan mutluluk duyuyorum. Verilecek herhangi bir bonus ödemesinin yapılabileceğinden memnunum.<br />
                            [/code]<br />
                        </p>
                        <button class="btn btn-secondary mt-3" onclick="copy_data(bbtitle)">Başlığı Kopyala</button>
                        <button class="btn btn-primary mt-3" onclick="copy_data(bbcode)">Kodu Kopyala</button>
                    </div>
                </div>
            </div>
        </div>
        <p>ThePlod tarafından kodlandı, Syllania tarafından yerelleştirildi.</p>
    </div>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous">
    </script>
    <script>
        $(document).ready(function(){
            var date = moment.utc().add(3, 'hours');
            var currentDate = date.format('DD/MMM/YYYY').toUpperCase();
            document.getElementById('datetime').value = currentDate;
            $("#datetext").text(currentDate);
            $("#datetime").on("change keypress input", function() {
                var datetime = $("#datetime").val().toUpperCase();
                const myArray = datetime.split(" ");
                $("#datetimetext").text(datetime);
                $("#datetext").text(myArray[0]);
            });   
            $("#streetname").on("change keypress input", function() {
                var streetn = $("#streetname").val();
                $("#streetn").text(streetn);
            });
            $("#name").on("change keypress input", function() {
                var nameS = $("#name").val();
                $("#nameS").text(nameS);
            });
            $("#positionname").on("change keypress input", function() {
                var currpos = $("#positionname").val();
                $("#currpos").text(currpos);
            });
            $("#locationT").on("change keypress input", function() {
                var taskloc = $("#locationT").val();
                $("#taskloc").text(taskloc);
            });
            document.querySelector('#narrative').addEventListener('keyup', function() {
                document.querySelector('#narrativetext').innerText = this.value;
            });

            $("#images").on("change keypress input", function() {
                var imgs = $("#images").val();
                var imgss = imgs.split(","), i;
                var allimgs = "";
                for (i = 0; i< imgss.length; i++) {
                    var newimg = "[img]";
                    newimg += imgss[i];
                    newimg += "[/img]";
                    allimgs += newimg;
                }
                $("#imgs").text(allimgs);
            }); 
            const selectType = document.querySelector('#positionT');
            selectType.addEventListener('change', (event) => {
                var typeValue = event.target.value
                $("#inspsup").text(typeValue);
            });
        }); 

        function showSweetAlert() {
    const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
    
    Swal.fire({
        position: 'top-end',
        icon: 'success',
        title: 'Kopyalandı!',
        showConfirmButton: false,
        timer: 2000,
        toast: true,
        background: isDark ? '#2d2d2d' : '#f8f9fa',
        color: isDark ? '#f8f9fa' : '#212529',
        width: '300px'
    });
}
        function copy_data(containerid) {
            var range = document.createRange();
            range.selectNode(containerid); //changed here
            window.getSelection().removeAllRanges(); 
            window.getSelection().addRange(range); 
            document.execCommand("copy");
            window.getSelection().removeAllRanges();
            showSweetAlert();
        }

// Dark Mode Toggle Fonksiyonu
document.addEventListener('DOMContentLoaded', function() {
    const darkModeToggle = document.getElementById('darkModeToggle');
    const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    
    // Animasyon sınıfını ekleme fonksiyonu
    function applyTransition() {
        document.body.classList.add('theme-transition');
        setTimeout(() => {
            document.body.classList.remove('theme-transition');
        }, 300); // Animasyon süresi kadar bekletiyoruz
    }
    
    // Sistem tercihini kontrol et
    if (prefersDarkScheme.matches) {
        document.documentElement.setAttribute('data-theme', 'dark');
        darkModeToggle.innerHTML = '<i class="bi bi-sun-fill"></i> Light Mode';
    }
    
    // LocalStorage'dan tema durumunu yükle
    const currentTheme = localStorage.getItem('theme');
    if (currentTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
        darkModeToggle.innerHTML = '<i class="bi bi-sun-fill"></i> Light Mode';
    } else if (currentTheme === 'light') {
        document.documentElement.setAttribute('data-theme', 'light');
        darkModeToggle.innerHTML = '<i class="bi bi-moon-fill"></i> Dark Mode';
    }
    
    // Toggle butonu event listener
    darkModeToggle.addEventListener('click', function() {
        applyTransition(); // Geçişten hemen önce animasyon sınıfını ekle
        let theme;
        if (document.documentElement.getAttribute('data-theme') === 'dark') {
            document.documentElement.setAttribute('data-theme', 'light');
            theme = 'light';
            darkModeToggle.innerHTML = '<i class="bi bi-moon-fill"></i> Dark Mode';
        } else {
            document.documentElement.setAttribute('data-theme', 'dark');
            theme = 'dark';
            darkModeToggle.innerHTML = '<i class="bi bi-sun-fill"></i> Light Mode';
        }
        localStorage.setItem('theme', theme);
    });
    
    // Sistem teması değişikliklerini dinle
    prefersDarkScheme.addEventListener('change', e => {
        applyTransition(); // Geçişten hemen önce animasyon sınıfını ekle
        const newTheme = e.matches ? 'dark' : 'light';
        document.documentElement.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        darkModeToggle.innerHTML = newTheme === 'dark' 
            ? '<i class="bi bi-sun-fill"></i> Light Mode' 
            : '<i class="bi bi-moon-fill"></i> Dark Mode';
    });
});
// Sayfa yüklendiğinde animasyon sınıfını eklemeyin
window.addEventListener('load', function() {
    setTimeout(() => {
        document.body.classList.remove('theme-transition');
    }, 100);
});
    </script>
</body>

</html>